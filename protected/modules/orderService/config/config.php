<?php

//Подключение настроек зависящих от среды выполнения
$environmentConfig = require (dirname(__FILE__).'/envconfig.php');

return CMap::mergeArray($environmentConfig, [
    'log_namespace' => "system.orderservice",

    'services' => [
        'orderService' => [
            'baseURL' => '/api/OrdersService/'
        ],
        'systemService' => [
            'baseURL' => '/system/'
        ],
        'searcherService' => [
            'baseURL' => '/api/SearcherService/'
        ],
        'supplierService' => [
            'baseURL' => '/api/SupplierService/'
        ]
    ],
    //массив команд OWM, для которых не нужно проверять токен пользователя
    'noUserTokenActionsCheck' => [
        'BookComplete',
        'PayFinish',
        'Import'
    ],
    // массив описания контекстов
    'context_descriptions' => [
        'undefined_context' => 'Неизвестный контекст',
        'OrderWorkflowManager' => [
            'AddTourist'     => 'Добавление туриста к заявке'
        ],
        'ServiceWorkflowManager' => [

        ]

    ],
    'error_descriptions' => [
        'undefined_error' => 'Неизвестная ошибка',

        '0' => 'Неверный логин или пароль сервиса',
        '1' => 'Неправильный формат JSON тела запроса',
        '2' => 'Неверный сервисный токен',
        '3' => 'Срок действия токена истек',
        '4' => 'Неверный токен пользователя',
        '5' => 'Неверно указан CONTENT_TYPE',

        '6' => 'Не указан идентификатор заявки',
        '7' => 'Некорректный параметр сортировки',
        '8' => 'Некорректный идентификатор заявки',
        '9' => 'Не указан идентификатор заявки в УТК',
        '10' => 'Некорректный идентификатор заявки в УТК',

        '11' => 'Число услуг не соответствует существующим',
        '12' => 'Некорректный входной параметр',
        '13' => 'Указанная заявка уже существует',
        '14' => 'Не указан идентификатор агента',
        '15' => 'Агент не найден',
        '16' => 'Срок договора агента истёк',
        '17' => 'Неправильное значение валюты поставщика',
        '18' => 'В заявке нет ни одного взрослого человека',
        '19' => 'Не найдена указанная заявка',
        '20' => 'Отсутствуют привязанные услуги к счёту',
        '21' => 'Указанный счёт уже существует',
        '22' => 'Не указан идентификатор менджера агентства',
        '23' => 'Не найден указанный менеджер агентства',
        '24' => 'Не найден указанный счёт',
        '25' => 'Не указан номер счёта',
        '26' => 'Не указан номер счёта УТК',
        '27' => 'Не указан идентификатор оплаты в УТК',
        '28' => 'Не указана сумма оплаты',
        '29' => 'Не указана валюта',
        '30' => 'Сумма оплаты не соответствует сумме по счёту',
        '31' => 'Некорректное значение валюты',
        '32' => 'Валюта оплаты не соответствует валюте счёта',
        '33' => 'Указанная оплата уже существует',
        '34' => 'Для указанного счёта оплата уже существует',
        '35' => 'Указанная оплата не найдена',
        '36' => 'Не найдена услуга',
        '37' => 'Некорректный идентификатор услуги в УТК',
        '38' => 'Не задана дата начала',
        '39' => 'Не задана дата окончания',
        '40' => 'Некорректная дата начала',
        '41' => 'Некорректная дата окончания',
        '42' => 'Отсутствуют услуги в заявке',
        '43' => 'Отсутствуют туристы в заявке',
        '44' => 'Не все обязательные поля туриста заполнены',
        '45' => 'Не все обязательные поля документа туриста заполнены',
        '46' => 'Заявка не содержит ни одной подтверждённой услуги',
        '47' => 'Не указана скидка агентства для выбранной заявки',
        '48' => 'Сумма скидки превышает размер комиссии агентства',
        '49' => 'Неизвестный тип услуги',
        '50' => 'Отсутствуют оплачиваемые услуги в счёте',
        '51' => 'Не указан идентификатор услуги',
        '52' => 'Не указана оплачиваемая стоимость услуги',
        '53' => 'Некорректная стоимость услуги',
        '54' => 'Не указан статус заявки',
        '55' => 'Не найден турлидер',
        '56' => 'Не указана дата создания заявки',
        '57' => 'Некорректная дата создания заявки',
        '58' => 'Некорректный идентификатор услуги в параметрах туриста',
        '59' => 'Не указан тип услуги',
        '60' => 'Не указаны детали услуги',
        '61' => 'Некорректные детали услуги',
        '62' => 'Некорректный идентификатор туриста',
        '63' => 'Некорректная дата рождения туриста',
        '64' => 'Турист не привязан к услуге',
        '65' => 'Отсутствуют корректные услуги в заявке',
        '66' => 'Некорректный тип оплаты',
        '67' => 'Не указан параметр online для заявки',
        '68' => 'Не указан идентифкатор в GPTS для заявки',
        '69' => 'Не указан идентификатор договора с агентством в УТК',
        '70' => 'Некорректная дата рождения туриста',
        '71' => 'Некорректная структура данных туриста',
        '72' => 'Некорректный email туриста',
        '73' => 'Не указан тип документа туриста',
        '74' => 'Некорректный тип документа туриста',
        '75' => 'Некорректная серия документа туриста',
        '76' => 'Некорректный номер документа туриста',
        '77' => 'Некорректная дата выдачи документа туриста',
        '78' => 'Указанные услуги находятся в разных заявках',
        '79' => 'Не указан идентификатор туриста',
        '80' => 'Некорректный идентифкатор туриста',
        '81' => 'Не найден указанный турист',
        '82' => 'Удаление туриста из услуги запрещено',
        '83' => 'Указанный турист уже связан с другой заявкой',
        '84' => 'Некорректная дата окончания действия документа',
        '85' => 'В указанную заявку запрещено добавлять услуги',
        '86' => 'Не указан ответственный менеджер KMP',
        '87' => 'Не найден ответственный менеджер KMP',
        '88' => 'Не указан договор агентства',
        '89' => 'Не найден указанный договор агентства',
        '90' => 'Не указано наименование выполняемой команды',
        '91' => 'Неизвестная команда',
        '92' => 'Не указаны детали команды',
        '93' => 'Не указан идентификатор предложения',
        '94' => 'Не указан язык',
        '95' => 'Оффер недоступен',
        '96' => 'Некорректный код языка',
        '97' => 'Статус указанной заявки запрещает бронирование',
        '98' => 'Согласие с тарифами и офертой не подтверждено',
        '99' => 'Статус указанной услуги запрещает бронирование',
        '100' => 'Некорректная дата начала действия услуги',
        '101' => 'Некорректная дата окончания действия услуги',
        '102' => 'Информация о туристах услуги не соответствует информации о туристах предложения',
        '103' => 'Некорректный идентификатор предложения',
        '104' => 'Не указан результат бронирования',
        '105' => 'Некорректный результат бронирования',
        '106' => 'Не указаны данные бронирования',
        '107' => 'Некорректная структура данных результата бронирования',
        '108' => 'Не указаны данные Passenger Name Record(PNR)',
        '109' => 'Некорректная структура данных Passenger Name Record(PNR)',
        '110' => 'Отсутствуют данные о шлюзе поставщика услуги',
        '111' => 'Не указан код поставщика',
        '112' => 'Не указан идентификатор Passenger Name Record(PNR)',
        '113' => 'Некорректная структура данных шлюза поставщика',
        '114' => 'Не указаны данные сегментов бронирования',
        '115' => 'Статус указанной заявки запрещает выставление счёта',
        '116' => 'Статус указанной услуги запрещает выставление счёта',
        '117' => 'Стоимость услуги меньше суммы выписаных счетов на неё',
        '118' => 'Некорректная сумма счёта',
        '119' => 'Статус указанной заявки запрещает выполнение оплаты',
        '120' => 'Статус указанной услуги запрещает выполнение оплаты',
        '121' => 'Невозможно забронировать услугу с указанным предложением поставщика',
        '122' => 'Невозможно получить идентификатор гражданства туриста в справочнике по указанному коду',
        '123' => 'Некорректная струтура данных билета',
        '124' => 'Некорректный Passenger Name Record(PNR)',
        '125' => 'Статус указанной заявки запрещает выписку билетов',
        '126' => 'Статус указанной услуги запрещает выписку билетов',
        '127' => 'Статус указанной услуги запрещает завершение оформления услуги',
        '128' => 'Не найден указанный поставщик',
        '129' => 'Статус услуги запрещает удаление привязки туриста',
        '130' => 'Не указан mimeType',
        '131' => 'Не указано имя файла',
        '132' => 'Не указан размер файла',
        '133' => 'Не указан url расположения файла в хранилище',
        '134' => 'Не указан комментарий к файлу',
        '135' => 'Не указан тип бизнес сущности',
        '136' => 'Не указан идентификатор бизнес сущности',
        '137' => 'Невозможно добавить туриста к оффлайн заявке',
        '138' => 'Изменились условия предложения',
        '139' => 'Предложение недоступно',
        '140' => 'Не найдены данные бронирования',
        '141' => 'Статус заявки блокирует выполнение данного действия',
        '142' => 'Поставщик услуги не поддерживает отмену брони',
        '143' => 'Отмена бронирования невозможна из-за статуса услуги',
        '144' => 'Отмена бронирования невозможна из-за неотмененных счетов',
        '145' => 'Отмена бронирования невозможна из-за неотмененных билетов',
        '146' => 'Отмена бронирования невозможна из-за отсутствия данных шлюза',
        '147' => 'Не указано действие для проверки перехода',
        '148' => 'Некорректное действие для перехода',
        '149' => 'Не указаны параметры для проверки перехода',
        '150' => 'Не указана операция для проверки',
        '151' => 'Некорректный параметр operation',
        '152' => 'Услуга находится в обработке, бронирование невозможно',
        '153' => 'Неверная команда OWM',
        '154' => 'Ошибка конфигурации',
        '155' => 'Ошибка входных параметров',
        '156' => 'Нет билетов',
        '157' => 'Все билеты должны быть выписаны',
        '158' => 'В услуге нет активных броней',
        '159' => 'Бронь не активна или нет ваучеров',
        '160' => 'Все услуги должны быть оформлены',
        '161' => 'Все услуги должны быть оплачены',
        '162' => 'Статус услуги блокирует отмену бронирования',
        '163' => 'Статус заявки блокирует выставления счета',
        '164' => 'Не указаны данные для изменения брони',
        '165' => 'Поставщик услуги не поддерживает модификацию брони',
        '166' => 'Не указана дата конца или начала бронирования',
        '167' => 'Критическая ошибка сервиса заявок',
        '168' => 'Неверная дата начала',
        '169' => 'Неверная дата окончания',
        '170' => 'Изменение брони невозможно',
        '171' => 'Не удалось измененить данные бронирования',
        '172' => 'Некорректный статус заявки',
        '173' => 'Некорректный статус услуги',
        '174' => 'Статус услуги блокирует команду',
        '175' => 'Турист уже присоединен к услуге',
        '176' => 'Некорректное имя туриста',
        '177' => 'Некорректная фамилия туриста',
        '178' => 'Некорректный телефон туриста',
        '179' => 'Некорректные возрастные группы',
        '180' => 'Некорректная длина ФИО туриста в документе',
        '181' => 'ФИО слишком короткое',
        '182' => 'ФИО слишком длинное',
        '183' => 'Турлидер уже задан в заявке',
        '184' => 'Количество туристов не совпадает с числом туристов в предложении',
        '185' => 'Ошибка установки данных брони',
        '186' => 'Бронь с таким PNR уже существует',
        '187' => 'Некорректный номер PNR',
        '188' => 'Некорректная дата выписки билета',
        '189' => 'Некорретный авиа тариф',
        '190' => 'Обновление данных билета возможно только для авиа',
        '191' => 'Некорректный номер билета',
        '192' => 'Билет с таким номером уже существует',
        '193' => 'Некорректный номер старого билета',
        '194' => 'Некорректный статус билета',
        '195' => 'Можно заменить только выписанный билет',
        '196' => 'Некорректные даты в услуге',
        '197' => 'Некорректная комиссия агента',
        '198' => 'Действие недоступно для оффлайн заявки',
        '199' => 'Статус услги блокирует процесс начала оплаты',
        '200' => 'Ошибка добавления файла счета',
        '201' => 'Не удалось выставить счет, пожалуйста, попробуйте повторить позже',
        '202' => 'Не указан идентификатор маршрута',
        '203' => 'Создать заявку можно только на активный контракт',
        '204' => 'Некорректно заданы штрафы',
        '205' => 'Невозможно изменить валюту штрафа',
        '206' => 'Не указан ID типа поля',
        '207' => 'Не указано значение доп поля',
        '208' => 'Доп поле с таким ID не найдено',
        '209' => 'Значение доп поля не валидно',
        '210' => 'Неккоректный ID доп поля',
        '211' => 'Смена комиссии агента возможна только для агенств',
        '212' => 'Некорректно задана комиссия',
        '213' => 'Не заполнены обязательные доп поля',
        '214' => 'Ошибка применения корпоративных политик',
        '215' => 'Нарушены корпоративные политики',
        '216' => 'Некорректный номер бонусной карты',
        '217' => 'Действие недоступно',
        '218' => 'Обнаружено дублирующее бронирование',
        '219' => 'Не получен статус услуги от поставщика',
        '220' => 'По контракту нет комиссии',
        '221' => 'Услуга переведена в состояние обработки',
        '222' => 'Дополнительная услуга не активна',
        '223' => 'Дополнительное предложение не найдено',
        '224' => 'Поставщик не поддерживает дополнительную услугу',
        '225' => 'Дополнительное предложение уже добавлено в услугу',
        '226' => 'Дополнительная услуга не найдена',
        '227' => 'Услуга и дополнительная услуга должны быть в статусе NEW',
        '228' => 'Повторное бронирование услуги невозможно',
        '229' => 'Отчет не поддерживается',
        '230' => 'Выходной формат отчета не задан',
        '231' => 'Некорректный выходной формат',
        '232' => 'Email не задан или не корректен',
        '233' => 'Не установлена дата начала периода',
        '234' => 'Не установлена дата окончанния периода',
        '235' => 'Обновление статуса услуги из архивированной заявки',
        '236' => 'Не задан тип временного интервала',
        '237' => 'Не заданы передаваемые данные',
        '238' => 'Действие доступно только для онлайн заявок',
        '239' => 'Компания не найдена',
        '240' => 'Допустимый лимит времени на бронирование истёк',
        '241' => 'Правило авторизации не найдено',
        '242' => 'Не заданы условия для правила авторизации',
        '243' => 'Не заданы итерации правила авторизации',
        '244' => 'Ошибка создания условия правила авторизации',
        '245' => 'Некорректный таймлимит',
        '246' => 'Некорретный исход авторизации',
        '247' => 'Некорректный пользователь регламента',
        '248' => 'Действие недоступно, идет авторизация',
        '249' => 'Нет раундов для авторизации',
        '249' => 'Нет активных шагов в раунде для авторизации',


        '420' => 'Supplier does not provide a service at the requested time. This error is flight specific',
        '421' => 'Stay dates in Reservation Confirmation message differ from stay dates in Reservation Initiate message',
        '422' => 'BookingCode not found in HUB system',
        '423' => 'Supplier can not process duplicated rates',
        '440' => 'Cancellation failed in suppliers system',
        '441' => 'Reservation cannot be cancelled in suppliers system',
        '442' => 'Cancel Penalties are not provided by supplier, or provided as free text, so GP HUB is not able to return Cancellation Charges precisely as Amount. Or Cancellation policy can be shown only after reservation',
        '443' => 'No active accommodation found in suppliers system',
        '444' => 'Offer is not valid for requested passengers/stay dates in suppliers system',
        '445' => 'It is not possible to request for information. Information is obtained from another source (e.g. price per day breakdown)',
        '446' => 'Rates or cancellation fee are returned in other currency than it was requested',
        '447' => 'Price in response differs from price announced in previous phases',
        '461' => 'Размещение в одной комнате не возможно. Поставщик ограничивает количество проживающих в комнате',
        '462' => 'Поставщик не гарантирует указанную цену',
        '463' => 'Нарушены правила размещения',
        '464' => 'Изменены исходные данные между запросом и резервированием размещения',
        '465' => 'Неправильный eMail',
        '466' => 'Нет мест',
        '467' => 'Нет мест',
        '468' => 'Недопустимая смена турлидера',
        '477' => 'Ошибка двойного бронирования',

        '480' => 'Ошибка подготовки данных для бронирования',
        '481' => 'Не удалось подготовить данные для бронирования',
        '482' => 'Ошибка GPTS 448 - системная ошибка, втом числе и валидации',

        '500' => 'Ошибка базы данных',
        '501' => 'Невозможно создать заявку',
        '502' => 'Невозможно содать предложение по услуге',
        '503' => 'Невозможно создать услугу',
        '504' => 'Невозможно создать туриста',
        '505' => 'Невозможно обновить заявку',
        '506' => 'Невозможно создать счёт',
        '507' => 'Невозможно обновить данные счёта',
        '508' => 'Невозможно обновить данные оплаты',
        '509' => 'Невозможно создать оплату',
        '510' => 'Невозможно получить комиссию агентства',
        '511' => 'Невозможно обновить данные услуги',
        '512' => 'Не найден указанный турист',
        '513' => 'Невозможно обновить данные туриста',
        '514' => 'Невозможно создать агентство',
        '515' => 'Невозможно получить договор агентства',
        '516' => 'Невозможно получить статус оплаты',
        '517' => 'Невозможно получить данные заявки',
        '518' => 'Невозможно получить агентство',
        '519' => 'Невозможно получить менеджера агентства',
        '520' => 'Невозможно получить услуги заявки',
        '521' => 'Невозможно получить данные счёта',
        '522' => 'Невозможно удалить привязку туриста к услугам',
        '523' => 'Невозможно удалить привязку туриста к заявке',
        '524' => 'Невозможно получить ответственного менеджера',
        '525' => 'Невозможно получить предложение',
        '526' => 'Невозможно получить услугу',
        '527' => 'Невозможно создать PNR',
        '528' => 'Невозможно обновить PNR',
        '529' => 'Невозможно получить PNR',
        '530' => 'Невозможно создать билет',
        '531' => 'Невозможно обновить данные билета',
        '532' => 'Невозможно получить указанный билет',
        '533' => 'Невозможно создать присоединённый документ',
        '534' => 'Невозможно обновить данные присоединённого документа',
        '535' => 'Невозможно получить указанный присоединённый документ',
        '536' => 'Невозможно получить приложенные документы заявки',
        '537' => 'Невозможно получить токен авторизации пользователя',
        '538' => 'Не задан eMail пользователя',
        '539' => 'Не задан ID документа для отправки',
        '540' => 'Документ для отправки не найден',


        '601' => 'Ошибка в настройках правил валидации',
        '602' => 'Не определёна роль указанного пользователя',
        '603' => 'Невозможно получить набор прав текущего пользователя',
        '604' => 'Не определён возвращаемый набор полей профиля пользователя',
        '605' => 'Невозможно получить набор проверяемых прав для указанной команды',
        '606' => 'Недостаточно прав для выполнения операции',
        '607' => 'Некорректные настройки отображаемых наименований приложенных файлов',
        '608' => 'Некорректные настройки учётной записи пользователя для сервиса',
        '609' => 'Не указан путь к хранилищу файлов',

        '701' => 'Недостаточно прав для выполнения операции',

        '801' => 'Ошибка запроса на создание счёта в УТК',
        '802' => 'Ошибка запроса на получение клиентов из УТК',
        '803' => 'Ошибка сервиса поставщиков',
        '804' => 'Ошибка сервиса поставщиков, повторите попытку',
        '805' => 'GPTS Не удалось подготовить данные для бронирования',
        '806' => 'GPTS не удалось запустить процесс бронирования',
        '807' => 'Оффер недоступен',
        '808' => 'GPTS Бронирование прервано',
        '809' => 'Ошибка выписки билета',
        '810' => 'Невозможно получить информацию от поставщика по указанной заявке',
        '811' => 'Невозможно получить маршрутную квитанцию по указанному билету',
        '812' => 'Невозможно получить правила тарифа',
        '814' => 'Сообщение от GPTS об ошибке выписки билета',

    ],
    //Наименования для сохраняемых файлов, прикрепляемых к заявке
    'entitiesNames' => [
        'receipt' => 'Маршрутная квитанция'
    ]

]);
